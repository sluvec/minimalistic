# Minimalist Notes App

A simple and clean notes application that allows users to create, edit, and organize notes with tags and categories. Built with React and Supabase.

## Features

### Core Features
- User authentication (signup, login, logout)
- Create, edit, and delete notes
- Add optional tags to notes (for easy filtering)
- Assign optional categories to notes (for organization)
- Filter notes by tags and categories
- Responsive and minimalist design
- Cross-device access through Supabase backend

### Modern UX Features (v2.0)
- **Auto-Save**: Notes save automatically as you type (no save button needed!)
- **Keyboard Shortcuts**: Navigate and save quickly with hotkeys
- **Real-Time Feedback**: See save status with visual indicators
- **Smooth Search**: Non-blocking search with React 18 concurrent features
- **Optimized Performance**: Memoized components prevent unnecessary re-renders
- **4 Theme Modes**: Light, Dim, Dim 2, and Dark themes

## Setup Instructions

### 1. Clone and Install Dependencies

```bash
# Navigate to the project directory
cd minimalist-notes-app

# Install dependencies
npm install
```

### 2. Set Up Supabase

1. Create a Supabase account at [supabase.com](https://supabase.com) if you don't have one already
2. Create a new Supabase project
3. In the Supabase dashboard, go to Settings > API to get your project URL and anon key
4. Create a `.env` file in the root of your project (copy from `.env.example`) and add your Supabase credentials:

```
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. Create Database Tables

Run the following SQL in your Supabase SQL editor:

```sql
-- Create notes table
CREATE TABLE notes (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  title TEXT, 
  content TEXT NOT NULL,
  category TEXT,
  type TEXT,
  tags TEXT[] DEFAULT NULL,
  due_date DATE,
  url TEXT,
  priority TEXT,
  importance TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc', now()),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc', now())
);

-- Set up RLS (Row Level Security) policies
ALTER TABLE notes ENABLE ROW LEVEL SECURITY;

-- Create policy to allow users to select only their own notes
CREATE POLICY "Users can view their own notes" ON notes 
  FOR SELECT USING (auth.uid() = user_id);

-- Create policy to allow users to insert their own notes
CREATE POLICY "Users can create notes" ON notes 
  FOR INSERT WITH CHECK (auth.uid() = user_id);

-- Create policy to allow users to update their own notes
CREATE POLICY "Users can update their own notes" ON notes 
  FOR UPDATE USING (auth.uid() = user_id);

-- Create policy to allow users to delete their own notes
CREATE POLICY "Users can delete their own notes" ON notes 
  FOR DELETE USING (auth.uid() = user_id);

-- Create index on user_id for better performance
CREATE INDEX notes_user_id_idx ON notes (user_id);
```

### 4. Run Database Migrations

**Using Supabase CLI (Recommended - Automated):**

See [SUPABASE_SETUP.md](./SUPABASE_SETUP.md) for detailed instructions.

Quick start:
```bash
# One-time setup (3 commands)
supabase login
supabase link --project-ref YOUR_PROJECT_REF_ID

# Run migrations
npm run db:push
```

**Manual Method (Alternative):**

Run the following migrations in your Supabase SQL editor:
- `production_migration.sql` - Adds archive feature
- `supabase/migrations/20241022_add_estimated_duration.sql` - Adds estimated duration fields

### 5. Run the Application

```bash
npm run dev
```

Access the application at `http://localhost:5173` (or the port shown in your terminal).

## Usage

1. Register a new account or log in with your credentials
2. Create notes with optional tags and categories
3. Use the dashboard filters to find specific notes by tag or category
4. Click on a note to edit its content, tags, or category
5. Use the application on any device by logging in with your credentials

### Keyboard Shortcuts

Boost your productivity with these keyboard shortcuts:

#### Edit Note Page
- **Cmd+S** (Mac) / **Ctrl+S** (Windows/Linux): Save immediately
- **Esc**: Return to notes list
- **Auto-saves** every 1.5 seconds while typing

#### Create Note Page
- **Cmd+S** (Mac) / **Ctrl+S** (Windows/Linux): Create note
- **Esc**: Cancel and return to notes list

#### Notes List Page
- Search bar is **non-blocking** - UI stays responsive even with 1000+ notes

### Auto-Save Behavior

The app features intelligent auto-save:
- Changes save automatically after 1.5 seconds of inactivity
- Visual indicator shows save status ("Saving...", "Saved 2s ago", or error messages)
- Use Cmd+S/Ctrl+S to save immediately without waiting
- No data loss - all changes are preserved automatically

## Environment Variables

- `VITE_SUPABASE_URL`: Your Supabase project URL
- `VITE_SUPABASE_ANON_KEY`: Your Supabase anonymous key

## Technology Stack

### Core Technologies
- **React 18** (with Vite) - Concurrent features for smooth UX
- **Supabase** - Authentication and PostgreSQL database
- **React Router 6** - Client-side navigation
- **CSS** - Custom styling with design tokens

### Modern React Features
- **useTransition** - Non-blocking UI updates during search
- **useDeferredValue** - Smooth search performance
- **React.memo** - Optimized component re-rendering
- **Custom Hooks** - useAutoSave, useDarkModeColors

### Additional Libraries
- **react-hotkeys-hook** - Keyboard shortcuts
- **@tanstack/react-virtual** - Virtual scrolling (ready for large datasets)
- **date-fns** - Date formatting
